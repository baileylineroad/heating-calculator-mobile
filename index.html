
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Heating Cost Calculator – Phase 6 (Step 4)</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 1rem; }
    label, input, select { display: block; margin: 0.5rem 0; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background: #f0f0f0; }
  </style>
</head>
<body>
<h1>Heating Cost Calculator – Phase 6 (Step 4)</h1>

<label for="city">Choose Your City:</label>
<select id="city">
  <option value="">-- Select a City --</option>
  <option value="9500">Anchorage, AK</option><option value="3000">Atlanta, GA</option><option value="1500">Austin, TX</option><option value="4200">Baltimore, MD</option><option value="7200">Billings, MT</option><option value="5000">Boston, MA</option><option value="6200">Buffalo, NY</option><option value="7500">Calgary, AB</option><option value="2800">Charlotte, NC</option><option value="5500">Chicago, IL</option><option value="4800">Cincinnati, OH</option><option value="5000">Cleveland, OH</option><option value="4900">Columbus, OH</option><option value="1800">Dallas, TX</option><option value="6000">Denver, CO</option><option value="5800">Detroit, MI</option><option value="8100">Edmonton, AB</option><option value="4600">Halifax, NS</option><option value="1300">Houston, TX</option><option value="5100">Indianapolis, IN</option><option value="4400">Kansas City, MO</option><option value="1400">Las Vegas, NV</option><option value="1000">Los Angeles, CA</option><option value="4100">Louisville, KY</option><option value="500">Miami, FL</option><option value="6200">Milwaukee, WI</option><option value="7000">Minneapolis, MN</option><option value="5000">Montreal, QC</option><option value="2800">Nashville, TN</option><option value="1000">New Orleans, LA</option><option value="4100">New York, NY</option><option value="3600">Oklahoma City, OK</option><option value="5800">Omaha, NE</option><option value="800">Orlando, FL</option><option value="4800">Ottawa, ON</option><option value="4400">Philadelphia, PA</option><option value="800">Phoenix, AZ</option><option value="5100">Pittsburgh, PA</option><option value="4500">Portland, OR</option><option value="5900">Quebec City, QC</option><option value="2800">Raleigh, NC</option><option value="7800">Regina, SK</option><option value="5400">Salt Lake City, UT</option><option value="1000">San Diego, CA</option><option value="1500">San Francisco, CA</option><option value="4200">Seattle, WA</option><option value="4000">St. Louis, MO</option><option value="4200">Toronto, ON</option><option value="3000">Vancouver, BC</option><option value="7200">Winnipeg, MB</option>
</select>

<label for="hdd">Heating Degree Days (HDD):</label>
<input type="number" id="hdd" placeholder="e.g., 4200">

<label for="sqft">Home Size (sq. ft.):</label>
<input type="number" id="sqft" value="2000">

<table>
  <thead>
    <tr>
      <th>Fuel Type</th>
      <th>Unit Price</th>
      <th>Efficiency (%)</th>
      <th>Cost per 100,000 BTUs</th>
      <th>Seasonal Cost</th>
    </tr>
  </thead>
  <tbody>
    
    <tr>
      <td>Electricity (¢/kWh)</td>
      <td><input type="number" id="price-electricity" step="any"></td>
      <td><select id="eff-electricity"><option value="100">Baseboard Electric</option><option value="300">Mini-Split Heat Pump</option></select></td>
      <td id="cost100k-electricity">--</td>
      <td id="seasonal-electricity">--</td>
    </tr>
    <tr>
      <td>Natural Gas (¢/m³)</td>
      <td><input type="number" id="price-ng_m3" step="any"></td>
      <td><select id="eff-ng_m3"><option value="95">High-Efficiency Gas Furnace</option><option value="80">Mid-Efficiency Gas Furnace</option></select></td>
      <td id="cost100k-ng_m3">--</td>
      <td id="seasonal-ng_m3">--</td>
    </tr>
    <tr>
      <td>Natural Gas ($/therm)</td>
      <td><input type="number" id="price-ng_therm" step="any"></td>
      <td><select id="eff-ng_therm"><option value="95">High-Efficiency Gas Furnace</option><option value="80">Mid-Efficiency Gas Furnace</option></select></td>
      <td id="cost100k-ng_therm">--</td>
      <td id="seasonal-ng_therm">--</td>
    </tr>
    <tr>
      <td>Propane ($/L)</td>
      <td><input type="number" id="price-propane_l" step="any"></td>
      <td><select id="eff-propane_l"><option value="92">High-Efficiency Propane Furnace</option></select></td>
      <td id="cost100k-propane_l">--</td>
      <td id="seasonal-propane_l">--</td>
    </tr>
    <tr>
      <td>Propane ($/gallon)</td>
      <td><input type="number" id="price-propane_gal" step="any"></td>
      <td><select id="eff-propane_gal"><option value="92">High-Efficiency Propane Furnace</option></select></td>
      <td id="cost100k-propane_gal">--</td>
      <td id="seasonal-propane_gal">--</td>
    </tr>
    <tr>
      <td>Heating Oil ($/L)</td>
      <td><input type="number" id="price-oil_l" step="any"></td>
      <td><select id="eff-oil_l"><option value="60">Older Furnace</option></select></td>
      <td id="cost100k-oil_l">--</td>
      <td id="seasonal-oil_l">--</td>
    </tr>
    <tr>
      <td>Heating Oil ($/gallon)</td>
      <td><input type="number" id="price-oil_gal" step="any"></td>
      <td><select id="eff-oil_gal"><option value="60">Older Furnace</option></select></td>
      <td id="cost100k-oil_gal">--</td>
      <td id="seasonal-oil_gal">--</td>
    </tr>
    <tr>
      <td>Firewood (Full Cord)</td>
      <td><input type="number" id="price-wood_full" step="any"></td>
      <td><select id="eff-wood_full"><option value="78">Catalytic Airtight</option><option value="70">Non-Catalytic Airtight</option><option value="55">Non-Airtight</option></select></td>
      <td id="cost100k-wood_full">--</td>
      <td id="seasonal-wood_full">--</td>
    </tr>
    <tr>
      <td>Firewood (Face Cord 16")</td>
      <td><input type="number" id="price-wood_face16" step="any"></td>
      <td><select id="eff-wood_face16"><option value="78">Catalytic Airtight</option><option value="70">Non-Catalytic Airtight</option><option value="55">Non-Airtight</option></select></td>
      <td id="cost100k-wood_face16">--</td>
      <td id="seasonal-wood_face16">--</td>
    </tr>
    <tr>
      <td>Firewood (Face Cord 24")</td>
      <td><input type="number" id="price-wood_face24" step="any"></td>
      <td><select id="eff-wood_face24"><option value="78">Catalytic Airtight</option><option value="70">Non-Catalytic Airtight</option><option value="55">Non-Airtight</option></select></td>
      <td id="cost100k-wood_face24">--</td>
      <td id="seasonal-wood_face24">--</td>
    </tr>
    <tr>
      <td>Pellets ($/ton)</td>
      <td><input type="number" id="price-pellets" step="any"></td>
      <td><select id="eff-pellets"><option value="75">Pellet Stove</option><option value="70">Multi-Fuel Pellet Stove</option></select></td>
      <td id="cost100k-pellets">--</td>
      <td id="seasonal-pellets">--</td>
    </tr>
    <tr>
      <td>Bituminous Coal ($/ton)</td>
      <td><input type="number" id="price-bituminous" step="any"></td>
      <td><select id="eff-bituminous"><option value="70">Hand-Fired Coal Stove</option><option value="80">Stoker Coal Stove</option></select></td>
      <td id="cost100k-bituminous">--</td>
      <td id="seasonal-bituminous">--</td>
    </tr>
    <tr>
      <td>Anthracite Coal ($/ton)</td>
      <td><input type="number" id="price-anthracite" step="any"></td>
      <td><select id="eff-anthracite"><option value="70">Hand-Fired Coal Stove</option><option value="80">Stoker Coal Stove</option></select></td>
      <td id="cost100k-anthracite">--</td>
      <td id="seasonal-anthracite">--</td>
    </tr>
    <tr>
      <td>Corn ($/bushel)</td>
      <td><input type="number" id="price-corn_bushel" step="any"></td>
      <td><select id="eff-corn_bushel"><option value="75">Corn Stove</option><option value="70">Multi-Fuel Pellet Stove</option></select></td>
      <td id="cost100k-corn_bushel">--</td>
      <td id="seasonal-corn_bushel">--</td>
    </tr>
    <tr>
      <td>Corn ($/ton)</td>
      <td><input type="number" id="price-corn_ton" step="any"></td>
      <td><select id="eff-corn_ton"><option value="75">Corn Stove</option><option value="70">Multi-Fuel Pellet Stove</option></select></td>
      <td id="cost100k-corn_ton">--</td>
      <td id="seasonal-corn_ton">--</td>
    </tr>
    <tr>
      <td>Kerosene ($/L)</td>
      <td><input type="number" id="price-kerosene_l" step="any"></td>
      <td><select id="eff-kerosene_l"><option value="60">Older Furnace</option></select></td>
      <td id="cost100k-kerosene_l">--</td>
      <td id="seasonal-kerosene_l">--</td>
    </tr>
    <tr>
      <td>Kerosene ($/gallon)</td>
      <td><input type="number" id="price-kerosene_gal" step="any"></td>
      <td><select id="eff-kerosene_gal"><option value="60">Older Furnace</option></select></td>
      <td id="cost100k-kerosene_gal">--</td>
      <td id="seasonal-kerosene_gal">--</td>
    </tr>
  </tbody>
</table>



<script>
document.addEventListener("DOMContentLoaded", function () {
  const fuels = [
    "electricity", "ng_m3", "ng_therm", "propane_l", "propane_gal",
    "oil_l", "oil_gal", "wood_full", "wood_face16", "wood_face24",
    "pellets", "bituminous", "anthracite", "corn_bushel", "corn_ton",
    "kerosene_l", "kerosene_gal"
  ];

  function calculate() {
    const hdd = parseFloat(document.getElementById("hdd").value);
    const sqft = 2000;
    const load = hdd * sqft * 10;

    fuels.forEach(fuel => {
      const priceInput = document.getElementById("price-" + fuel);
      const effInput = document.getElementById("eff-" + fuel);
      const costCell = document.getElementById("cost100k-" + fuel);
      const seasonCell = document.getElementById("seasonal-" + fuel);

      if (!priceInput || !effInput || !costCell || !seasonCell) return;

      const price = parseFloat(priceInput.value);
      const eff = parseFloat(effInput.value);

      const fuelRow = fuelsData.find(f => f.id === fuel);
      if (!fuelRow || isNaN(price) || isNaN(eff) || isNaN(load)) {
        costCell.textContent = "--";
        seasonCell.textContent = "--";
        return;
      }

      const unitPrice = fuelRow.cents ? price / 100 : price;
      const costPer100k = (100000 / (fuelRow.btu * (eff / 100))) * unitPrice;
      const seasonalCost = (load / (fuelRow.btu * (eff / 100))) * unitPrice;

      costCell.textContent = "$" + costPer100k.toFixed(2);
      seasonCell.textContent = "$" + seasonalCost.toFixed(2);
    });
  }

  const fuelsData = [
    { id: "electricity", btu: 3412, cents: true },
    { id: "ng_m3", btu: 35870, cents: true },
    { id: "ng_therm", btu: 100000, cents: false },
    { id: "propane_l", btu: 25300, cents: false },
    { id: "propane_gal", btu: 91600, cents: false },
    { id: "oil_l", btu: 36600, cents: false },
    { id: "oil_gal", btu: 138500, cents: false },
    { id: "wood_full", btu: 20000000, cents: false },
    { id: "wood_face16", btu: 6666670, cents: false },
    { id: "wood_face24", btu: 10000000, cents: false },
    { id: "pellets", btu: 16000000, cents: false },
    { id: "bituminous", btu: 24000000, cents: false },
    { id: "anthracite", btu: 25000000, cents: false },
    { id: "corn_bushel", btu: 392000, cents: false },
    { id: "corn_ton", btu: 16000000, cents: false },
    { id: "kerosene_l", btu: 36600, cents: false },
    { id: "kerosene_gal", btu: 135000, cents: false }
  ];

  document.querySelectorAll("input, select").forEach(el => {
    el.addEventListener("input", calculate);
    el.addEventListener("change", calculate);
  });

  document.getElementById("city").addEventListener("change", function () {
    const selected = this.value;
    if (selected) {
      document.getElementById("hdd").value = selected;
      calculate(); // Force full re-calc
    }
  });
});
</script>

</body>
</html>