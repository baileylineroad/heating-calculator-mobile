
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Heating Cost Calculator – Live Version</title>
  <style>
    body { font-family: Arial, sans-serif; max-width: 1000px; margin: 0 auto; padding: 1rem; }
    label, input { display: block; margin: 0.5rem 0; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { border: 1px solid #ccc; padding: 0.5rem; text-align: center; }
    th { background: #f0f0f0; }
  </style>
</head>
<body>
<h1>Heating Cost Calculator</h1>

<label for="city">Choose Your City:</label>
<select id="city"><option value="">-- Select a City --</option>
<option value="9500">Anchorage, AK</option>
<option value="3000">Atlanta, GA</option>
<option value="1500">Austin, TX</option>
<option value="4200">Baltimore, MD</option>
<option value="7200">Billings, MT</option>
<option value="5000">Boston, MA</option>
<option value="6200">Buffalo, NY</option>
<option value="7500">Calgary, AB</option>
<option value="2800">Charlotte, NC</option>
<option value="5500">Chicago, IL</option>
<option value="4800">Cincinnati, OH</option>
<option value="5000">Cleveland, OH</option>
<option value="4900">Columbus, OH</option>
<option value="1800">Dallas, TX</option>
<option value="6000">Denver, CO</option>
<option value="5800">Detroit, MI</option>
<option value="8100">Edmonton, AB</option>
<option value="4600">Halifax, NS</option>
<option value="1300">Houston, TX</option>
<option value="5100">Indianapolis, IN</option>
<option value="4400">Kansas City, MO</option>
<option value="1400">Las Vegas, NV</option>
<option value="1000">Los Angeles, CA</option>
<option value="4100">Louisville, KY</option>
<option value="500">Miami, FL</option>
<option value="6200">Milwaukee, WI</option>
<option value="7000">Minneapolis, MN</option>
<option value="5000">Montreal, QC</option>
<option value="2800">Nashville, TN</option>
<option value="1000">New Orleans, LA</option>
<option value="4100">New York, NY</option>
<option value="3600">Oklahoma City, OK</option>
<option value="5800">Omaha, NE</option>
<option value="800">Orlando, FL</option>
<option value="4800">Ottawa, ON</option>
<option value="4400">Philadelphia, PA</option>
<option value="800">Phoenix, AZ</option>
<option value="5100">Pittsburgh, PA</option>
<option value="4500">Portland, OR</option>
<option value="5900">Quebec City, QC</option>
<option value="2800">Raleigh, NC</option>
<option value="7800">Regina, SK</option>
<option value="5400">Salt Lake City, UT</option>
<option value="1000">San Diego, CA</option>
<option value="1500">San Francisco, CA</option>
<option value="4200">Seattle, WA</option>
<option value="4000">St. Louis, MO</option>
<option value="4200">Toronto, ON</option>
<option value="3000">Vancouver, BC</option>
<option value="7200">Winnipeg, MB</option>
</select>
<label for="hdd">Heating Degree Days (HDD):</label>
<input type="number" id="hdd" placeholder="e.g., 4200">

<label for="sqft">Home Size (sq. ft.):</label>
<input type="number" id="sqft" value="2000">

<table>
  <thead>
    <tr>
      <th>Fuel Type</th>
      <th>Unit Price</th>
      <th>Efficiency (%)</th>
      <th>Cost per 100,000 BTUs</th>
      <th>Seasonal Cost</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Electricity (¢/kWh)</td>
      <td><input type="number" id="price-electricity" step="any"></td>
      <td><input type="number" id="eff-electricity" value="100"></td>
      <td id="cost100k-electricity">--</td>
      <td id="seasonal-electricity">--</td>
    </tr>
    <tr>
      <td>Natural Gas (¢/m³)</td>
      <td><input type="number" id="price-ng" step="any"></td>
      <td><input type="number" id="eff-ng" value="90"></td>
      <td id="cost100k-ng">--</td>
      <td id="seasonal-ng">--</td>
    </tr>
    <tr>
      <td>Propane ($/L)</td>
      <td><input type="number" id="price-propane" step="any"></td>
      <td><input type="number" id="eff-propane" value="92"></td>
      <td id="cost100k-propane">--</td>
      <td id="seasonal-propane">--</td>
    </tr>
    <tr>
      <td>Firewood (Full Cord)</td>
      <td><input type="number" id="price-wood" step="any"></td>
      <td><input type="number" id="eff-wood" value="70"></td>
      <td id="cost100k-wood">--</td>
      <td id="seasonal-wood">--</td>
    </tr>
    <tr>
      <td>Pellets ($/ton)</td>
      <td><input type="number" id="price-pellets" step="any"></td>
      <td><input type="number" id="eff-pellets" value="75"></td>
      <td id="cost100k-pellets">--</td>
      <td id="seasonal-pellets">--</td>
    </tr>
  </tbody>
</table>

<script>
window.onload = function() {
  document.getElementById("city").addEventListener("change", function() {
    const selected = this.value;
    if (selected) {
      document.getElementById("hdd").value = selected;
    }
  });
  const fuels = [
    { id: 'electricity', btu: 3412, cents: true },
    { id: 'ng', btu: 35870, cents: true },
    { id: 'propane', btu: 91600, cents: false },
    { id: 'wood', btu: 20000000, cents: false },
    { id: 'pellets', btu: 16000000, cents: false }
  ];

  function calculate() {
    const sqft = parseFloat(document.getElementById("sqft").value);
    const hdd = parseFloat(document.getElementById("hdd").value);
    if (isNaN(hdd) || isNaN(sqft)) return;

    const demand = hdd * sqft * 10;

    fuels.forEach(fuel => {
      const priceEl = document.getElementById("price-" + fuel.id);
      const effEl = document.getElementById("eff-" + fuel.id);
      const cost100kCell = document.getElementById("cost100k-" + fuel.id);
      const seasonalCell = document.getElementById("seasonal-" + fuel.id);

      const rawPrice = parseFloat(priceEl.value);
      const eff = parseFloat(effEl.value) / 100;

      if (!isNaN(rawPrice) && eff > 0) {
        const unitPrice = fuel.cents ? rawPrice / 100 : rawPrice;
        const costPerBTU = unitPrice / fuel.btu / eff;
        const seasonalCost = costPerBTU * demand;

        cost100kCell.textContent = "$" + (costPerBTU * 100000).toFixed(2);
        seasonalCell.textContent = "$" + seasonalCost.toLocaleString(undefined, {
          minimumFractionDigits: 2,
          maximumFractionDigits: 2
        });
      } else {
        cost100kCell.textContent = "--";
        seasonalCell.textContent = "--";
      }
    });
  }

  document.querySelectorAll("input").forEach(el => {
    el.addEventListener("input", calculate);
  });
};
</script>
</body>
</html>
